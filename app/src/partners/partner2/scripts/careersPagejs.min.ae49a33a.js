"use strict";!function(){function bindEvents(){$(".js-sing-up-btn").addClass("hide"),$el.find(".js-intern-tab").on("click",function(){Hocalwire.Services.AnalyticsService.sendGAEvent("careers","click","intern-tab"),$el.find(".js-intern-tab").hasClass("active")||$el.find(".js-intern-tab").addClass("active"),$el.find(".js-apply-internship").removeClass("hide"),$el.find(".js-apply-job").addClass("hide"),$el.find(".js-job-tab").removeClass("active")}),$el.find(".js-job-tab").on("click",function(){Hocalwire.Services.AnalyticsService.sendGAEvent("careers","click","job-tab"),$el.find(".js-job-tab").hasClass("active")||$el.find(".js-job-tab").addClass("active"),$el.find(".js-apply-job").removeClass("hide"),$el.find(".js-apply-internship").addClass("hide"),$el.find(".js-intern-tab").removeClass("active")})}function bindApplyForm(){$el.find("#apply-job").on("click",function(){var $parent=$el.find(".js-apply-job"),name=$parent.find("input#name").val(),error=!1;(""==name||" "==name)&&($parent.find("#err-name").show(500),$parent.find("#err-name").delay(4e3),$parent.find("#err-name").animate({height:"toggle"},500,function(){}),error=!0);var phone=$parent.find("input#phone").val();(""==phone||" "==phone)&&($parent.find("#err-phone").show(500),$parent.find("#err-phone").delay(4e3),$parent.find("#err-phone").animate({height:"toggle"},500,function(){}),error=!0);var emailCompare=/^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$/,email=$parent.find("input#email").val().toLowerCase();""!=email&&" "!=email&&emailCompare.test(email)||($parent.find("#err-email").show(500),$parent.find("#err-email").delay(4e3),$parent.find("#err-email").animate({height:"toggle"},500,function(){}),error=!0),0==error&&(Hocalwire.Services.AnalyticsService.sendGAEvent("careers","submit","applyIntern"),applyNow($parent.find("form"),!1))}),$el.find("#apply-intern").on("click",function(){var $parent=$(".js-apply-internship"),name=$parent.find("input#name").val(),error=!1;(""==name||" "==name)&&($parent.find("#err-name").show(500),$parent.find("#err-name").delay(4e3),$parent.find("#err-name").animate({height:"toggle"},500,function(){}),error=!0);var phone=$parent.find("input#phone").val();(""==phone||" "==phone)&&($parent.find("#err-phone").show(500),$parent.find("#err-phone").delay(4e3),$parent.find("#err-phone").animate({height:"toggle"},500,function(){}),error=!0);var college=$parent.find("input#college").val();(""==college||" "==college)&&($parent.find("#err-college").show(500),$parent.find("#err-college").delay(4e3),$parent.find("#err-college").animate({height:"toggle"},500,function(){}),error=!0);var emailCompare=/^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$/,email=$parent.find("input#email").val().toLowerCase();return""!=email&&" "!=email&&emailCompare.test(email)||($parent.find("#err-email").show(500),$parent.find("#err-email").delay(4e3),$parent.find("#err-email").animate({height:"toggle"},500,function(){}),error=!0),0==error&&(Hocalwire.Services.AnalyticsService.sendGAEvent("careers","submit","applyIntern"),applyNow($parent.find("form"),!0)),!1})}function applyNow($el,isInternship){var url="/content/servlet/RDESController?command=career.ServletCareer",options={contentType:"application/x-www-form-urlencoded; charset=utf-8"};Hocalwire.Services.post(url,$el.serialize(),options).then(function(data){var params={};params.title="Thanks for applying.",isInternship?(params.message="Please download the app to start reporting news. You internship application will be selected based on your reporting",params.actionOneLabel="Download Now",params.actionOneCallback=function(){window.location.href="/refer-170"},Hocalwire.Services.AnalyticsService.sendGAEvent("careers","success","applyIntern")):(params.message="We will contact you back. Please try our app",params.actionOneLabel="Try App",params.actionOneCallback=function(){window.location.href="/refer-170"},params.actionTwoLabel="Cancel",params.actionTwoCallback=function(){window.location.href="/"},Hocalwire.Services.AnalyticsService.sendGAEvent("careers","success","applyJob")),Utils.dialog(params)},function(e){var params={};params.title="Whoops!! there is some error",params.message="Some error occured while posting your entry. Please retry again",params.actionOneLabel="Close",Hocalwire.Services.AnalyticsService.sendGAEvent("careers","error","applyJob"),Utils.dialog(params)})}var $el;$.addPageInit("#careers-page",function(){$el=$("#careers-page"),Hocalwire.PageLoader.init(),Hocalwire.CommonJs.init(),bindEvents(),bindApplyForm()})}();