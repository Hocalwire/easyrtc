!function($){var methods=function(){var c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},ios=/iPhone|iPad|iPod/i.test(navigator.userAgent),wp7=function(){var style=document.documentElement.style;return"behavior"in style&&"fill"in style&&/iemobile/i.test(navigator.userAgent)}(),toggleMenuClasses=(function(){ios&&$(window).load(function(){$("body").children().on("click",$.noop)})}(),function($menu,o){var classes=c.menuClass;o.cssArrows&&(classes+=" "+c.menuArrowClass),$menu.toggleClass(classes)}),setPathToCurrent=function($menu,o){return $menu.find("li."+o.pathClass).slice(0,o.pathLevels).addClass(o.hoverClass+" "+c.bcClass).filter(function(){return $(this).children("ul").hide().show().length}).removeClass(o.pathClass)},toggleAnchorClass=function($li){$li.children("a").toggleClass(c.anchorClass)},toggleTouchAction=function($menu){var touchAction=$menu.css("ms-touch-action");touchAction="pan-y"===touchAction?"auto":"pan-y",$menu.css("ms-touch-action",touchAction)},applyHandlers=function($menu,o){var targets="li:has(ul)";$.fn.hoverIntent&&!o.disableHI?$menu.hoverIntent(over,out,targets):$menu.on("mouseenter.superfish",targets,over).on("mouseleave.superfish",targets,out);var touchevent="MSPointerDown.superfish";ios||(touchevent+=" touchend.superfish"),wp7&&(touchevent+=" mousedown.superfish"),$menu.on("focusin.superfish","li",over).on("focusout.superfish","li",out).on(touchevent,"a",touchHandler)},touchHandler=function(e){var $this=$(this),$ul=$this.siblings("ul");$ul.length>0&&$ul.is(":hidden")&&($this.one("click.superfish",!1),"MSPointerDown"===e.type?$this.trigger("focus"):$.proxy(over,$this.parent("li"))())},over=function(){var $this=$(this),o=getOptions($this);clearTimeout(o.sfTimer),$this.siblings().superfish("hide").end().superfish("show")},out=function(){var $this=$(this),o=getOptions($this);ios?$.proxy(close,$this,o)():(clearTimeout(o.sfTimer),o.sfTimer=setTimeout($.proxy(close,$this,o),o.delay))},close=function(o){o.retainPath=$.inArray(this[0],o.$path)>-1,this.superfish("hide"),this.parents("."+o.hoverClass).length||(o.onIdle.call(getMenu(this)),o.$path.length&&$.proxy(over,o.$path)())},getMenu=function($el){return $el.closest("."+c.menuClass)},getOptions=function($el){return getMenu($el).data("sf-options")};return{hide:function(instant){if(this.length){var $this=this,o=getOptions($this);if(!o)return this;var not=o.retainPath===!0?o.$path:"",$ul=$this.find("li."+o.hoverClass).add(this).not(not).removeClass(o.hoverClass).children("ul"),speed=o.speedOut;instant&&($ul.show(),speed=0),o.retainPath=!1,o.onBeforeHide.call($ul),$ul.stop(!0,!0).animate(o.animationOut,speed,function(){var $this=$(this);o.onHide.call($this)})}return this},show:function(){var o=getOptions(this);if(!o)return this;var $this=this.addClass(o.hoverClass),$ul=$this.children("ul");return o.onBeforeShow.call($ul),$ul.stop(!0,!0).animate(o.animation,o.speed,function(){o.onShow.call($ul)}),this},destroy:function(){return this.each(function(){var $this=$(this),o=$this.data("sf-options"),$liHasUl=$this.find("li:has(ul)");return o?(clearTimeout(o.sfTimer),toggleMenuClasses($this,o),toggleAnchorClass($liHasUl),toggleTouchAction($this),$this.off(".superfish").off(".hoverIntent"),$liHasUl.children("ul").attr("style",function(i,style){return style.replace(/display[^;]+;?/g,"")}),o.$path.removeClass(o.hoverClass+" "+c.bcClass).addClass(o.pathClass),$this.find("."+o.hoverClass).removeClass(o.hoverClass),o.onDestroy.call($this),void $this.removeData("sf-options")):!1})},init:function(op){return this.each(function(){var $this=$(this);if($this.data("sf-options"))return!1;var o=$.extend({},$.fn.superfish.defaults,op),$liHasUl=$this.find("li:has(ul)");o.$path=setPathToCurrent($this,o),$this.data("sf-options",o),toggleMenuClasses($this,o),toggleAnchorClass($liHasUl),toggleTouchAction($this),applyHandlers($this,o),$liHasUl.not("."+c.bcClass).superfish("hide",!0),o.onInit.call(this)})}}}();$.fn.superfish=function(method,args){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?$.error("Method "+method+" does not exist on jQuery.fn.superfish"):methods.init.apply(this,arguments)},$.fn.superfish.defaults={hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:$.noop,onBeforeShow:$.noop,onShow:$.noop,onBeforeHide:$.noop,onHide:$.noop,onIdle:$.noop,onDestroy:$.noop},$.fn.extend({hideSuperfishUl:methods.hide,showSuperfishUl:methods.show})}(jQuery),function(){function handleSubCatsMenuDropdown(){var $parents=$(".sub-cats-mixin-headerwrapper");for(k=0;k<$parents.length;k++)for(var $parent=$($parents[k]),i=($parent.width(),0);i<$parent.length;i++){var $e=$($parent[i]),items=$e.find(">ul li:not(.sub-cats-more)"),moreDropDown=$e.find(".sub-cats-more"),moreDropDownUl=$e.find(".sub-cats-more ul");if(items.length>3){for(var maxItems=3,j=maxItems;j<items.length;j++){var $orig=$(items[j]),item=$orig.clone();moreDropDownUl.append(item),$orig.remove()}moreDropDownUl.superfish({delay:10,autoArrows:!1,speed:"fast",disableHI:!0}),moreDropDown.on("click",function(){var $this=$(this).find("ul");$this.hasClass("hide")?$this.removeClass("hide"):$this.addClass("hide")})}}}function loadDropdownForParentCat($parent,$el){var selectedChild=$el.find("option:selected"),templateData={};templateData.mixinName=$el.attr("data-mixinname"),templateData.theme=$el.attr("data-theme"),templateData.categoryId=$parent.val(),"-1"==templateData.categoryId&&(templateData.categoryId=$el.attr("data-parentcatid")),templateData.link=$el.attr("data-link"),templateData.newsCount=$el.attr("data-newscount"),templateData.element_id=$el.attr("data-elementid"),templateData.is_visible=!0,templateData.is_sync=!1,templateData.content_type="CATEGORY_NEWS",templateData.heading=selectedChild.length>0?selectedChild.attr("data-heading"):$el.attr("data-heading"),templateData.partner=$el.attr("data-partner"),templateData.parentCategoryId=$el.attr("data-parentcatid");var viewProps=[];for(var k in templateData)viewProps.push(k+"="+templateData[k]);viewProps=viewProps.join("&");var url="/xhr/getNewsMixin?"+viewProps,success=function(data){var templateData=data.templateData,view=data.viewData,$e=$("#"+templateData.element_id);$e.removeClass("hide").html(view)},fail=function(){};Hocalwire.Services.get(url).then(function(data){success(data)},function(){fail()})}var initalized=!1;window.initialiseScriptsBinding=function(){function checkForFixHeader(){var $mobile_menu=$(".mobile-only-header");if($mobile_menu.is(":visible")){var $nav_mobile=$(".mobile-only-header");$nav_mobile.attr("style","min-height:10px;");var start=$nav_mobile.offset().top,$nav_temp=$("#navarea_temp"),current=0;$nav_temp.attr("style","clear:both;height:"+($nav_mobile.height()-10)+"px;"),$(document).on("scroll",function(event){var currentScroll=$(window).scrollTop(),height=$nav_mobile.offset().top;currentScroll>current?currentScroll>height&&!$nav_mobile.hasClass("fixed-header")&&($nav_mobile.attr("style","width:100%"),$nav_temp.removeClass("hide"),$nav_mobile.addClass("fixed-header")):start>height&&$nav_mobile.hasClass("fixed-header")&&($nav_mobile.attr("style",""),$nav_temp.addClass("hide"),$nav_mobile.removeClass("fixed-header")),current=currentScroll})}else{var current=0,$nav=$("#navArea"),start=$nav.offset().top,$nav_temp=$("#navarea_temp");$nav_temp.attr("style","clear:both;height:"+($nav.height()-10)+"px;"),$(document).on("scroll",function(event){var currentScroll=$(window).scrollTop(),height=$nav.offset().top;currentScroll>current?currentScroll>height&&!$nav.hasClass("fixed-header")&&($nav.attr("style","width:100%"),$nav_temp.removeClass("hide"),$nav.addClass("fixed-header")):start>height&&$nav.hasClass("fixed-header")&&($nav.attr("style",""),$nav_temp.addClass("hide"),$nav.removeClass("fixed-header")),current=currentScroll})}}if(!initalized){for(var items=$("ul.menu-list"),i=0;i<items.length;i++){var $e=$(items[i]),childs=$e.find("> li");if(childs.length>15){$e.css("column-count",2),$e.css("min-width","400px");var middle=childs.length%2==0?childs.length/2:parseInt(childs.length/2)+1;$e.find("> li:eq("+middle+")").attr("style","border-top:0px solid #ccc;margin-top:-10px;"),$e.find("> li:eq("+(middle-1)+")").attr("style","padding-bottom:10px")}}initalized=!0,checkForFixHeader(),$("ul.nav li.dropdown").hover(function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(200).fadeIn(200)},function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(200).fadeOut(200)});jQuery("#main-menu").removeClass("hide").superfish({delay:10,autoArrows:!1,speed:"fast",disableHI:!0});$("#main-menu li").on("mouseover",function(){var $this=$(this),color=$this.data("color");color&&($this.css("background",color),$this.find(">a").css("color","#fff"))}),$("#main-menu li").on("mouseout",function(){var $this=$(this),color=$this.data("color");color&&($this.css("background","#fff"),$this.find(">a").css("color","#000"))}),$("#main-menu li ul li").on("mouseover",function(){var $this=$(this);$this.find(">a").css("color","#000")}),$("#main-menu li ul li").on("mouseout",function(){var $this=$(this);$this.find(">a").css("color","#fff")}),jQuery("#mobile-menu  > span").click(function(){var mobile_menu=jQuery("#toggle-view-menu");mobile_menu.is(":hidden")?(mobile_menu.slideDown("300"),jQuery(this).children("span").html("-")):(mobile_menu.slideUp("300"),jQuery(this).children("span").html("+"))}),jQuery("#toggle-view-menu li").click(function(){var text=jQuery(this).children("div.menu-panel");text.is(":hidden")?(text.slideDown("300"),jQuery(this).children("span").html("-")):(text.slideUp("300"),jQuery(this).children("span").html("+")),jQuery(this).toggleClass("active")}),$(document).on("change","select.load-selected-cat-news-inline",function(){loadDropdownForParentCat($(this),$(this))}),handleSubCatsMenuDropdown()}}}();